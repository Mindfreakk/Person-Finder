{% extends "base.html" %}
{% block title %}Reset Password - PersonFinder{% endblock %}

{% block content %}
<div class="flex min-h-screen justify-center items-center px-4 sm:px-6 lg:px-8">
  <div class="bg-white/10 backdrop-blur-md shadow-xl rounded-2xl p-8 w-full max-w-md border border-gray-700 
              transition-transform duration-300 transform hover:scale-105 animate-slideFadeIn md:max-w-lg">
    <h2 class="text-3xl sm:text-4xl font-extrabold text-white mb-4 text-center">Set New Admin Password</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="space-y-2 mb-4">
          {% for category, message in messages %}
            <div class="text-sm px-3 py-2 rounded-lg
                        {% if category == 'error' %} bg-red-500/20 text-red-300 border border-red-500/40
                        {% elif category == 'success' %} bg-green-500/20 text-green-300 border border-green-500/40
                        {% else %} bg-gray-500/20 text-gray-200 border border-gray-500/40 {% endif %}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('reset_password', token=token) }}" class="space-y-5">
  <div>
    <label class="block text-sm font-medium text-gray-200">New Password</label>
    <input name="password" type="password" required
           class="mt-1 block w-full px-4 py-2 rounded-xl bg-gray-800/60 border border-gray-600 text-gray-100 focus:ring-2 focus:ring-blue-500"
           placeholder="Enter new password">
  </div>
  <div>
    <button type="submit" class="w-full py-2 px-4 rounded-xl bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-semibold shadow-lg hover:opacity-90 transition">
      Reset Password
    </button>
  </div>
</form>

    <p class="mt-6 text-center text-gray-400 text-sm">
      Remembered your password? 
      <a href="{{ url_for('login') }}" class="text-blue-400 hover:text-blue-300 font-semibold">Login</a>
    </p>
  </div>
</div>

<!-- Gradient shine animation for button -->
<style>
.login-gradient-btn::after {
  content: "";
  position: absolute;
  left: -60%;
  top: 0;
  width: 60%;
  height: 100%;
  background: linear-gradient(120deg, rgba(255,255,255,0.2), rgba(255,255,255,0.05), rgba(255,255,255,0.2));
  transform: skewX(-20deg);
  transition: left 0.9s ease;
}
.login-gradient-btn:hover::after {
  left: 150%;
}

@keyframes slideFadeIn {
  0% { opacity: 0; transform: translateY(30px); }
  100% { opacity: 1; transform: translateY(0); }
}
.animate-slideFadeIn {
  animation: slideFadeIn 0.8s ease-out forwards;
}
</style>
{% endblock %}
