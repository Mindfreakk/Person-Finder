{% extends "base.html" %}
{% block title %}Admin Login - PersonFinder{% endblock %}

{% block content %}
<div class="flex flex-col min-h-screen items-center px-4 sm:px-6 lg:px-8 space-y-12">

  <!-- Heading Card -->
  <div class="w-full flex justify-center mt-[3cm] sm:mt-[8rem]">
    <div
      class="card-base card-float rounded-2xl border border-blue-400/20 bg-blue-900/40 backdrop-blur p-5 sm:p-6 shadow-xl relative overflow-hidden max-w-3xl text-center"
      role="banner" aria-label="Admin Login heading card"
    >
      <!-- Decorative dots overlay -->
      <div class="absolute inset-0 pointer-events-none opacity-[.08]"
           style="background-image: radial-gradient(#3b82f6 1px, transparent 1px); background-size: 20px 20px;"></div>

      <!-- Heading & Subheading -->
      <div class="relative z-10">
        <h2 class="text-4xl sm:text-5xl font-extrabold text-white mb-3">
          Admin Login Portal
        </h2>
        <p class="mx-auto text-[clamp(0.9rem,2.8vw,1.15rem)] leading-relaxed max-w-2xl px-2 text-center text-blue-100/90">
          <span class="bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent animate-gradient">
            Secure access
          </span>
          <span class="bg-gradient-to-r from-green-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent animate-gradient">
            for
          </span>
          <span class="bg-gradient-to-r from-pink-500 via-red-500 to-yellow-400 bg-clip-text text-transparent animate-gradient">
            administrators only
          </span>
        </p>
      </div>
    </div>
  </div>

  <style>
  /* Gradient animation utility */
  .animate-gradient {
    background-size: 200% 200%;
    animation: gradientShift 6s ease infinite;
  }
  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* Floating card animation */
  .card-float {
    animation: floaty 6.5s ease-in-out infinite;
  }
  @keyframes floaty {
    0% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0); }
  }
  @media (prefers-reduced-motion: reduce) {
    .card-float { animation: none !important; }
  }
  </style>

  <!-- Login Card -->

<div class="w-full max-w-md md:max-w-lg bg-white/10 backdrop-blur-md shadow-xl rounded-2xl p-8 border border-gray-700
            transition-transform duration-300 transform hover:scale-105 animate-slideFadeIn mt-[2cm]">

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="space-y-2 mb-4">
          {% for category, message in messages %}
            <div class="text-sm px-3 py-2 rounded-lg
                        {% if category == 'error' %} bg-red-500/20 text-red-300 border border-red-500/40
                        {% elif category == 'success' %} bg-green-500/20 text-green-300 border border-green-500/40
                        {% else %} bg-gray-500/20 text-gray-200 border border-gray-500/40 {% endif %}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('login', next=next_page) }}" class="space-y-5">
      <input type="hidden" name="next" value="{{ next_page }}">

      <div>
        <label class="block text-sm font-medium text-gray-200">Username</label>
        <input name="username" type="text" required
               class="mt-1 block w-full px-4 py-2 rounded-xl bg-gray-800/60 border border-gray-600 text-gray-100 focus:ring-2 focus:ring-blue-500"
               placeholder="admin">
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-200">Password</label>
        <input name="password" type="password" required
               class="mt-1 block w-full px-4 py-2 rounded-xl bg-gray-800/60 border border-gray-600 text-gray-100 focus:ring-2 focus:ring-purple-500"
               placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        <p class="mt-2 text-right">
          <a href="{{ url_for('forgot_password') }}" class="text-blue-400 hover:text-blue-300 text-sm font-semibold">
            Forgot Password?
          </a>
        </p>
      </div>

      <div>
        <button type="submit" class="w-full py-2 px-4 rounded-xl bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-semibold shadow-lg hover:opacity-90 transition relative overflow-hidden login-gradient-btn">
          Login
        </button>
      </div>
    </form>
  </div>

  <!-- Divider -->
<div class="relative w-full flex justify-center mt-[2cm] mb-[2cm]">
  <div class="h-px w-3/4 sm:w-2/3 lg:w-1/2 bg-gradient-to-r from-transparent via-gray-400/40 to-transparent"></div>
  <span class="absolute -top-3 bg-blue-900 text-gray-200 text-xs sm:text-sm px-3 py-1 rounded-full shadow-md tracking-wide">
    Note
  </span>
</div>

  <!-- Info Box for Admins with Icon -->
<div class="info-box bg-indigo-900/40 border border-indigo-500/30 rounded-xl p-5 shadow-lg 
            max-w-2xl mx-auto text-center mb-16 animate-slide-in animate-pulse-slow">
  
  <!-- Icon -->
  <div class="flex justify-center mb-3">
    <svg xmlns="http://www.w3.org/2000/svg" 
         class="h-6 w-6 text-purple-400 animate-bounce" 
         fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
  </div>

  <!-- Text -->
  <p class="max-w-md text-center text-gray-400 text-sm sm:text-base px-2 sm:px-0">
    This portal is exclusively for authorized administrators of 
    <span class="gradient-text font-semibold">
      PersonFinder
    </span>.  
    Admins can log in here to manage the system, view reports, and perform critical administrative tasks.  
    <span class="text-red-300 font-medium">Regular users do not need to log in</span> to use the application.
  </p>
</div>

<!-- Gradient shine animation for login button -->
<style>
.login-gradient-btn::after {
  content: "";
  position: absolute;
  left: -60%;
  top: 0;
  width: 60%;
  height: 100%;
  background: linear-gradient(120deg, rgba(255,255,255,0.2), rgba(255,255,255,0.05), rgba(255,255,255,0.2));
  transform: skewX(-20deg);
  transition: left 0.9s ease;
}
.login-gradient-btn:hover::after {
  left: 150%;
}

/* Fade and slide in animation for the card */
@keyframes slideFadeIn {
  0% { opacity: 0; transform: translateY(30px); }
  100% { opacity: 1; transform: translateY(0); }
}
.animate-slideFadeIn {
  animation: slideFadeIn 0.8s ease-out forwards;
}

/* Slide up animation for subheading (optional) */
@keyframes slide-up-delay-1 {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}
.animate-slide-up-delay-1 {
  animation: slide-up-delay-1 1s ease forwards;
}

/* ðŸ”¹ Continuous pulse effect for info-box */
@keyframes pulseSlow {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.03); }
}
.animate-pulse-slow {
  animation: pulseSlow 2.5s ease-in-out infinite;
}
</style>
{% endblock %}
